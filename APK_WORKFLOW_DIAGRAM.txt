# APK Workflow Diyagramı / APK Workflow Diagram

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                       APK ÜRETME WORKFLOW'LARI                              │
│                     APK GENERATION WORKFLOWS                                 │
└─────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 1. CREATE OR PROMOTE RELEASE (Manuel / Manual)                              │
│    .github/workflows/create-or-promote-release.yml                           │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  GitHub Actions → Create or Promote Release → Run workflow                  │
│                                                                              │
│  Inputs / Girdiler:                                                          │
│  ├─ base_version: "2.4.0"                                                    │
│  ├─ channel: internal | closed | open | production                          │
│  └─ dry_run: false                                                           │
│                                                                              │
│  Outputs / Çıktılar:                                                         │
│  ├─ ✅ app-google-release.apk    (Signed / İmzalı)                          │
│  ├─ ✅ app-google-release.aab    (Signed / İmzalı)                          │
│  └─ ✅ app-fdroid-release.apk    (Signed / İmzalı)                          │
│                                                                              │
│  İndirme / Download:                                                         │
│  └─ GitHub Releases sayfasından / from GitHub Releases page                 │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 2. REUSABLE ANDROID BUILD (Otomatik / Automatic)                            │
│    .github/workflows/reusable-android-build.yml                              │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Pull Request açıldığında otomatik çalışır                                  │
│  Runs automatically when Pull Request is opened                              │
│                                                                              │
│  Outputs / Çıktılar:                                                         │
│  ├─ ⚙️ app-fdroid-debug.apk    (Unsigned / İmzasız)                         │
│  └─ ⚙️ app-google-debug.apk    (Unsigned / İmzasız)                         │
│                                                                              │
│  İndirme / Download:                                                         │
│  └─ PR Checks → Artifacts                                                    │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 3. YEREL BUILD / LOCAL BUILD (Manuel / Manual)                              │
├──────────────────────────────────────────────────────────────────────────────┤
│                                                                              │
│  Terminal'de çalıştır / Run in terminal:                                    │
│                                                                              │
│  $ ./gradlew assembleDebug           # Debug APK'lar / Debug APKs           │
│  $ ./gradlew assembleFdroidDebug     # F-Droid debug                        │
│  $ ./gradlew assembleGoogleDebug     # Google debug                         │
│  $ ./gradlew assembleFdroidRelease   # F-Droid release (keystore gerekli)  │
│  $ ./gradlew assembleGoogleRelease   # Google release (keystore gerekli)   │
│                                                                              │
│  Çıktılar / Outputs:                                                         │
│  └─ app/build/outputs/apk/{flavor}/{buildType}/                             │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                            KULLANIM KILAVUZU                                │
│                             USAGE GUIDE                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ❓ Hızlı test APK'sı istiyorum / Want quick test APK:                      │
│     → ./gradlew assembleDebug                                               │
│                                                                             │
│  ❓ Production release APK istiyorum / Want production release APK:         │
│     → GitHub Actions → Create or Promote Release                            │
│                                                                             │
│  ❓ PR için otomatik test APK / Auto test APK for PR:                       │
│     → Pull Request aç / Open Pull Request                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                        APK TÜRLERİ / APK TYPES                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Flavor      │ Build Type │ Signed  │ Store         │ Usage               │
│  ───────────┼────────────┼─────────┼───────────────┼─────────────────────│
│  google      │ release    │ ✅ Evet │ Google Play   │ Production          │
│  google      │ debug      │ ❌ Hayır│ -             │ Development         │
│  fdroid      │ release    │ ✅ Evet │ F-Droid       │ Production          │
│  fdroid      │ debug      │ ❌ Hayır│ -             │ Development         │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                     GEREKSİNİMLER / REQUIREMENTS                            │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Yerel Build için / For Local Build:                                        │
│  ✅ JDK 21                                                                   │
│  ✅ Android SDK (API 36)                                                     │
│  ✅ local.properties (secrets.defaults.properties'den kopya)                │
│                                                                             │
│  GitHub Actions için / For GitHub Actions:                                  │
│  ✅ Repository admin erişimi / admin access                                 │
│  ✅ Secrets yapılandırılmış / Secrets configured                            │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                        DAHA FAZLA BİLGİ / MORE INFO                         │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  📚 Türkçe Dokümantasyon:  APK_WORKFLOW_TR.md                               │
│  📚 English Documentation: APK_WORKFLOW_EN.md                               │
│  📚 Release Process:       RELEASE_PROCESS.md                               │
│  📚 Contributing:          CONTRIBUTING.md                                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
